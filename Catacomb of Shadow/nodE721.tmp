[gd_scene load_steps=11 format=3 uid="uid://cwwgnovkkvwyh"]

[ext_resource type="MeshLibrary" uid="uid://35cbs4x2txi7" path="res://i demand it.tres" id="1_bnun3"]
[ext_resource type="Script" path="res://world.gd" id="1_rotwv"]
[ext_resource type="Script" path="res://buba.gd" id="2_hgu2b"]
[ext_resource type="PackedScene" uid="uid://c8d5c3e3mx1pm" path="res://bul.tscn" id="2_pyt1d"]
[ext_resource type="PackedScene" uid="uid://ichlaiklt8oa" path="res://weird.tscn" id="3_2hod8"]
[ext_resource type="Script" path="res://kill.gd" id="3_digcv"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_5dle1"]

[sub_resource type="Environment" id="Environment_dpxf4"]
background_mode = 1
background_color = Color(0.054902, 0.054902, 0.0627451, 1)
background_energy_multiplier = 3.35
ambient_light_color = Color(0.933333, 0, 0.0235294, 1)
ambient_light_sky_contribution = 0.0
ambient_light_energy = 2.68
fog_enabled = true
fog_light_color = Color(1, 0.941176, 0.933333, 1)
fog_light_energy = 1.94
fog_density = 0.0028
fog_sky_affect = 0.025

[sub_resource type="NavigationMesh" id="NavigationMesh_56yxd"]
vertices = PackedVector3Array(-21.2507, 0.5, 3.99925, -16.5007, 0.5, 4.24925, -16.5007, 0.5, 2.74925, -16.5007, 0.5, 2.74925, -14.7507, 0.5, 2.49925, -15.0007, 0.5, -2.25075, -16.5007, 0.5, 2.74925, -15.0007, 0.5, -2.25075, -21.2507, 0.5, -2.25075, -21.2507, 0.5, 3.99925, 4.49925, 0.5, 2.24925, 4.49925, 0.5, 0.24925, 4.24925, 0.5, -2.25075, -15.0007, 0.5, -2.25075, -14.7507, 0.5, 2.49925, -21.2507, 0.5, 11.2493, -16.5007, 0.5, 10.9993, -16.5007, 0.5, 4.24925, -21.2507, 0.5, 3.99925, -16.2507, 0.5, 12.7493, -16.5007, 0.5, 10.9993, -21.2507, 0.5, 11.2493, -21.2507, 0.5, 15.4993, -21.2507, 0.5, 15.4993, -23.0007, 0.5, 15.7493, -22.7507, 0.5, 23.4993, -13.7507, 0.5, 12.7493, -16.2507, 0.5, 12.7493, -21.2507, 0.5, 15.4993, -22.7507, 0.5, 23.4993, -13.5007, 0.5, 23.2493, -23.0007, 0.5, 15.7493, -27.2507, 0.5, 15.7493, -27.2507, 0.5, 23.4993, -22.7507, 0.5, 23.4993)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(9, 8, 6), PackedInt32Array(6, 8, 7), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 14), PackedInt32Array(12, 14, 13), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(20, 19, 21), PackedInt32Array(21, 19, 22), PackedInt32Array(25, 24, 23), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 30), PackedInt32Array(28, 30, 29), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34)]

[sub_resource type="BoxShape3D" id="BoxShape3D_7iu5d"]
size = Vector3(3.24219, 2.9353, 2.0387)

[node name="World" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.104036, -0.11384, -0.0496178)
script = ExtResource("1_rotwv")

[node name="Player" parent="." instance=ExtResource("2_pyt1d")]
transform = Transform3D(-0.0127231, 0, 0.999919, 0, 1, 0, -0.999919, 0, -0.0127231, -0.0841956, 1.32258, -0.000997663)

[node name="Node3D" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0524413, 0.166816, -2.03453)
script = ExtResource("3_digcv")
objectToDeletePath = NodePath("../../CharacterBody3D")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Player"]
shape = SubResource("CylinderShape3D_5dle1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_dpxf4")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0)
navigation_mesh = SubResource("NavigationMesh_56yxd")

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
mesh_library = ExtResource("1_bnun3")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(0, 65534, 17, 0, 1, 655377, 65533, 1, 655377, 65533, 65534, 17, 3, 1, 1441798, 3, 65534, 6, 65530, 65534, 17, 65527, 65534, 17, 65524, 65534, 17, 65521, 65534, 17, 65521, 1, 655377, 65524, 1, 655377, 65527, 1, 655377, 65530, 1, 655377, 65518, 1, 1441799, 65518, 4, 1441813, 65518, 7, 1441818, 65515, 65534, 1048577, 65518, 65534, 24, 65518, 10, 1441809, 65518, 13, 7, 65512, 19, 655371, 65515, 19, 655371, 65518, 19, 655371, 65521, 13, 25, 65509, 22, 655366, 65509, 16, 1048599, 65509, 19, 1048595, 65521, 22, 1441817, 65518, 16, 1048578, 65521, 16, 1441811, 65521, 19, 1441811, 65512, 16, 14, 65515, 1, 1048595, 65515, 4, 1048595, 65515, 7, 1048595, 65515, 10, 1048595, 65515, 13, 1048595, 65515, 16, 1048579, 65518, 22, 655373, 65515, 22, 655373, 65512, 22, 655373)
}

[node name="CharacterBody3D" type="CharacterBody3D" parent="." groups=["enemies"]]
transform = Transform3D(0.996952, 0.0525649, -0.0576445, -0.0523159, 0.998613, 0.00582193, 0.0578705, -0.00278849, 0.998321, -26.4554, 0.00281918, 0.209637)
script = ExtResource("2_hgu2b")
objectToDeletePath = NodePath("../Player")
SPEED = 3.0

[node name="skel" parent="CharacterBody3D" instance=ExtResource("3_2hod8")]
transform = Transform3D(-0.872538, 6.40284e-10, 3.35548, 5.58794e-09, 2.17698, -4.65661e-09, -4.58052, 9.31323e-10, -0.639181, -0.022871, -0.810471, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, -1.49012e-08, 0, 1, 0, 0, 0, 1, 0.62687, 1.50823, 0.0404879)
shape = SubResource("BoxShape3D_7iu5d")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="CharacterBody3D"]
path_height_offset = 0.1

[node name="Timer" type="Timer" parent="CharacterBody3D"]
wait_time = 12.0
autostart = true

[connection signal="timeout" from="CharacterBody3D/Timer" to="CharacterBody3D" method="_on_timer_timeout"]
